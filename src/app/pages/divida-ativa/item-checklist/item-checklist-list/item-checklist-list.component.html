<app-bread-crumb [itens]="[{text: 'Itens do Checklist'}]"></app-bread-crumb>
<app-page-header page-title="Itens do Checklist" button-text=" Novo Item do Checklist" button-link="new"
  icon-lass="pi pi-plus" button-class="text-center"></app-page-header>

<div>
  <button type="button" class="btn btn-secondary float-right" (click)="invertSumir()"
    [title]="sumir ? 'Mostrar Pesquisa' : 'Esconder Pesquisa'">
    <i [class]="sumir ? 'fa fa-search-plus' : 'fa fa-search-minus'"></i>
  </button>
  <br>
  <br>
</div>
<div class="for-row" *ngIf="!sumir">
  <div class="card">
    <div class="card-body">
      <div class="table-responsive-lg" style="background: white;font-family: sans-serif;">
        <table class="table table-striped table-bordered" style="font-size: 0.8rem;">
          <tbody>
            <tr>
              <td width="15%" class="text-left">
                <strong>Código:</strong>
              </td>
              <td width="35%" class="text-left">
                <input [(ngModel)]="id" type="text" class="form-control" onkeypress="return somenteNumero(event);"
                  placeholder="Código" title="Código">
              </td>
              <td width="15%" class="text-left">
                <strong>Descrição:</strong>
              </td>
              <td width="35%" class="text-left">
                <input [(ngModel)]="descricao" type="text" class="form-control" placeholder="Descrição"
                  title="Descrição">
              </td>
            </tr>
            <tr>
              <td width="15%" class="text-left">
                <strong>Situação:</strong>
              </td>
              <td width="35%" class="text-left">
                <select [(ngModel)]="situacao" id="situacao" class="form-control" title="Situação">
                  <option value="">Todas as Situações</option>
                  <option *ngFor="let option of situacaoOptions" [value]="option.value">{{ option.text }}</option>
                </select>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <button type="button" class="btn btn-secondary mt-3 float-right" (click)="pesquisar()"
        title="Pesquisar Registros">
        <i class="fa fa-search"></i>
        Pesquisar
      </button>
    </div>
  </div>
</div>

<div class="table-responsive-lg" style="background: white;font-family: sans-serif;">
  <table class="table table-hover table-bordered" style="font-size: 0.8rem;">
    <thead>
      <tr>
        <th scope="col" class="text-center">Código</th>
        <th scope="col" class="text-center">Descrição</th>
        <th scope="col" class="text-center">Situação</th>
        <th scope="col" class="text-center">Data do Cadastro</th>
        <th scope="col" class="text-center">Ações </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let obj of paginas.content">
        <td class="text-center">
          <span *ngIf="obj.id < 10">0</span>{{ obj.id }}
        </td>
        <td class="text-center">
          {{ obj.descricao }}
        </td>
        <td class="text-center">
          {{ getSituacaoEnum(obj.situacao) }}
        </td>
        <td class="text-center">
          {{ obj.dataCadastro | date:'dd/MM/yyyy HH:mm:ss' }}
        </td>
        <td class="text-center">
          <button type="button" class="btn btn-secondary btn-sm" [routerLink]="[obj.id, 'edit']">
            Editar</button>
        </td>
      </tr>
      <tr *ngIf="paginas.totalElements <= 0 || paginas == ''">
        <td colspan="5">
          <strong>Nenhum Registro Encontrado</strong>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<p-paginator [rows]="count" [style]="{'background-color': 'white', 'border': '1px solid white'}"
  [totalRecords]="paginas.totalElements" [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
  (onPageChange)="paginateParamsRelatorio($event)"></p-paginator>

<p-toast [style]="{marginTop: '80px'}"></p-toast>