<app-bread-crumb [itens]="[{text: 'Índice IGP-DI'}]"></app-bread-crumb>
<app-page-header page-title="Índice IGP-DI" button-text=" Novo Índice IGP-DI" button-link="new"
  icon-lass="pi pi-plus" button-class="text-center"></app-page-header>

<div>
  <button type="button" class="btn btn-secondary float-right" (click)="invertSumir()"
    [title]="sumir ? 'Mostrar Pesquisa' : 'Esconder Pesquisa'">
    <i [class]="sumir ? 'fa fa-search-plus' : 'fa fa-search-minus'"></i>
  </button>
  <br>
  <br>
</div>
<div class="for-row" *ngIf="!sumir">
  <div class="card">
    <div class="card-body">
      <div class="table-responsive-lg" style="background: white;font-family: sans-serif;">
        <table class="table table-striped table-bordered" style="font-size: 0.8rem;">
          <tbody>
            <tr>
              <td width="20%" class="text-left">
                <strong>Código:</strong>
              </td>
              <td width="30%" class="text-left">
                <input [(ngModel)]="id" type="text" class="form-control" onkeypress="return somenteNumero(event);"
                  placeholder="Código" title="Código">
              </td>
              <td width="20%" class="text-left">
                <strong>Coeficiente Acumulado:</strong>
              </td>
              <td width="30%" class="text-left">
                <input [(ngModel)]="coeficienteAcumulado" type="text" class="form-control" onkeypress="return somenteNumero(event);"
                  placeholder="Coeficiente Acumulado" title="Código">
              </td>
            </tr>
            <tr>
              <td width="20%" class="text-left">
                <strong>Mes:</strong>
              </td>
              <td width="30%" class="text-left">
                <p-dropdown [options]="mes" [(ngModel)]="mesSelected" filter="true" [style]="{'width':'100%'}"
                  emptyFilterMessage="Nenhum mês encontrado"></p-dropdown>
              </td>
              <td width="20%" class="text-left">
                <strong>Ano:</strong>
              </td>
              <td width="30%" class="text-left">
                <p-dropdown [options]="ano" [(ngModel)]="anoSelected" filter="true" [style]="{'width':'100%'}"
                  emptyFilterMessage="Nenhum ano encontrado"></p-dropdown>
              </td>
            </tr>
            <tr>
              <td width="20%" class="text-left">
                <strong>Índice do Mês:</strong>
              </td>
              <td width="30%" class="text-left">
                <input [(ngModel)]="indiceMes" type="text" class="form-control" onkeypress="return somenteNumero(event);"
                  placeholder="Índice do Mês" title="Código">
              </td>
              <td width="20%" class="text-left">
                <strong>Multiplicador IGP-DI:</strong>
              </td>
              <td width="30%" class="text-left">
                <input [(ngModel)]="multiplicadorIgpdi" type="text" class="form-control" placeholder="Descrição"
                  title="Multiplicador IGP-DI">
              </td>
            </tr>
            <tr>
            </tr>
          </tbody>
        </table>
      </div>
      <button type="button" class="btn btn-secondary mt-3 float-right" (click)="pesquisar()"
        title="Pesquisar Registros">
        <i class="fa fa-search"></i>
        Pesquisar
      </button>
    </div>
  </div>
</div>

<div class="table-responsive-lg" style="background: white;font-family: sans-serif;">
  <table class="table table-hover table-bordered" style="font-size: 0.8rem;">
    <thead>
      <tr>
        <th scope="col" class="text-center">Código</th>
        <th scope="col" class="text-center">Mês/Ano</th>
        <th scope="col" class="text-center">Índice do Mês</th>
        <th scope="col" class="text-center">Multiplicador IGP-DI</th>
        <th scope="col" class="text-center">Coeficiente Acumulado</th>
        <th scope="col" class="text-center">Ações </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let obj of paginas.content">
        <td class="text-center">
          <span *ngIf="obj.id < 10">0</span>{{ obj.id }}
        </td>
        <td class="text-center">
          {{ obj.mesAno }}
        </td>
        <td class="text-center">
          {{ obj.indiceMes }}
        </td>
        <td class="text-center">
          {{ obj.multiplicadorIgpdi }}
        </td>
        <td class="text-center">
          {{ obj.coeficienteAcumulado }}
        </td>
        <td class="text-center">
          <button type="button" class="btn btn-secondary btn-sm" [routerLink]="[obj.id, 'edit']">
            Editar</button>
        </td>
      </tr>
      <tr *ngIf="paginas.totalElements <= 0 || paginas == ''">
        <td colspan="5">
          <strong>Nenhum Registro Encontrado</strong>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<p-paginator [rows]="count" [style]="{'background-color': 'white', 'border': '1px solid white'}"
  [totalRecords]="paginas.totalElements" [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
  (onPageChange)="paginateParamsRelatorio($event)"></p-paginator>

<p-toast [style]="{marginTop: '80px'}"></p-toast>